<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expert Dashboard - Mystical Services</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Philosopher:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/expert_dashboard.css">
    <link rel="stylesheet" href="./css/components/sidebar.css">
</head>
<body>
    <!-- Include sidebar component -->
    <div id="sidebar-container"></div>

    <div class="dashboard">
        <div class="header">
            <h1>‚ú® Expert Dashboard ‚ú®</h1>
            <p>Welcome back, Mystic Guide</p>
        </div>

        <div class="quick-stats">
            <div class="stat-card">
                <div class="stat-icon">üí´</div>
                <div class="stat-value">127</div>
                <div class="stat-label">Total Sessions</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-value">4.8</div>
                <div class="stat-label">Average Rating</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-value">$2,450</div>
                <div class="stat-label">Monthly Earnings</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-value">85%</div>
                <div class="stat-label">Repeat Clients</div>
            </div>
        </div>

        <div class="charts-container">
            <div class="chart-card">
                <h3 class="chart-title">Monthly Sessions</h3>
                <canvas id="sessionsChart"></canvas>
            </div>
            <div class="chart-card">
                <h3 class="chart-title">Revenue Trends</h3>
                <canvas id="revenueChart"></canvas>
            </div>
        </div>

        <div class="insights-grid">
            <div class="insight-card">
                <div class="insight-header">
                    <h3 class="insight-title">üéØ Service Performance</h3>
                </div>
                <div class="performance-metrics">
                    <div class="metric">
                        <div class="metric-value">92%</div>
                        <div class="metric-label">Tarot Reading</div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 92%"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-value">88%</div>
                        <div class="metric-label">Chakra Healing</div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 88%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <h3 class="insight-title">‚è∞ Peak Hours Analysis</h3>
                </div>
                <canvas id="peakHoursChart"></canvas>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <h3 class="insight-title">üìä Client Demographics</h3>
                </div>
                <canvas id="demographicsChart"></canvas>
            </div>
            
            <div class="insight-card">
                <div class="insight-header">
                    <h3 class="insight-title">üéØ Conversion Metrics</h3>
                </div>
                <div class="session-breakdown">
                    <div class="breakdown-item">
                        <div class="breakdown-value">78%</div>
                        <div class="breakdown-label">Profile Views to Bookings</div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-value">85%</div>
                        <div class="breakdown-label">Session Completion Rate</div>
                    </div>
                    <div class="breakdown-item">
                        <div class="breakdown-value">62%</div>
                        <div class="breakdown-label">Rebooking Rate</div>
                    </div>
                </div>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <h3 class="insight-title">üì± Platform Usage</h3>
                </div>
                <canvas id="platformChart"></canvas>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <h3 class="insight-title">üí∞ Revenue Breakdown</h3>
                </div>
                <canvas id="revenueBreakdownChart"></canvas>
            </div>
        </div>

        <div class="recent-reviews">
            <h3 class="chart-title">Recent Reviews</h3>
            <div class="review-item">
                <div class="review-avatar">SK</div>
                <div class="review-content">
                    <div class="review-header">
                        <span class="review-name">Sarah K.</span>
                        <span class="review-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                    </div>
                    <div class="review-text">Amazing tarot reading session! Really helped me understand my path.</div>
                </div>
            </div>
            <div class="review-item">
                <div class="review-avatar">JD</div>
                <div class="review-content">
                    <div class="review-header">
                        <span class="review-name">John D.</span>
                        <span class="review-rating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                    </div>
                    <div class="review-text">Incredible chakra healing session. Feeling much more balanced!</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script>
        // Sessions Chart
        const sessionsCtx = document.getElementById('sessionsChart').getContext('2d');
        new Chart(sessionsCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Number of Sessions',
                    data: [18, 24, 32, 36, 42, 45],
                    borderColor: '#6b4fa2',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Revenue Chart
        const revenueCtx = document.getElementById('revenueChart').getContext('2d');
        new Chart(revenueCtx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Revenue ($)',
                    data: [1800, 2400, 3200, 3600, 4200, 4500],
                    backgroundColor: '#9b7fd4'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Peak Hours Chart
        const peakHoursCtx = document.getElementById('peakHoursChart').getContext('2d');
        new Chart(peakHoursCtx, {
            type: 'line',
            data: {
                labels: ['6am', '9am', '12pm', '3pm', '6pm', '9pm'],
                datasets: [{
                    label: 'Session Bookings',
                    data: [5, 15, 25, 30, 45, 20],
                    borderColor: '#6b4fa2',
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Demographics Chart
        const demographicsCtx = document.getElementById('demographicsChart').getContext('2d');
        new Chart(demographicsCtx, {
            type: 'doughnut',
            data: {
                labels: ['18-25', '26-35', '36-45', '46+'],
                datasets: [{
                    data: [15, 40, 30, 15],
                    backgroundColor: ['#6b4fa2', '#9b7fd4', '#ff9f67', '#ffd700']
                }]
            },
            options: {
                responsive: true
            }
        });

        // Platform Usage Chart
        const platformCtx = document.getElementById('platformChart').getContext('2d');
        new Chart(platformCtx, {
            type: 'bar',
            data: {
                labels: ['Mobile App', 'Desktop', 'Tablet'],
                datasets: [{
                    label: 'Usage %',
                    data: [65, 25, 10],
                    backgroundColor: '#9b7fd4'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Revenue Breakdown Chart
        const revenueBreakdownCtx = document.getElementById('revenueBreakdownChart').getContext('2d');
        new Chart(revenueBreakdownCtx, {
            type: 'pie',
            data: {
                labels: ['Tarot', 'Chakra', 'Astrology', 'Other'],
                datasets: [{
                    data: [40, 30, 20, 10],
                    backgroundColor: ['#6b4fa2', '#9b7fd4', '#ff9f67', '#ffd700']
                }]
            },
            options: {
                responsive: true
            }
        });

        // Add this at the end of your existing scripts
        fetch('./components/sidebar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('sidebar-container').innerHTML = data;
            });
    </script>
    <script src="./js/sidebar.js"></script>
</body>
</html>