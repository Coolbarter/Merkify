<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover Mystical Services</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Philosopher:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/home_page.css">
    <link rel="stylesheet" href="./css/components/sidebar.css">
</head>
<body>
    <!-- Sidebar container should be first in body -->
    <div id="sidebar-container"></div>

    <div class="hero-background">
        <div class="overlay"></div>
        <h1 class="hero-title">Discover Mystical Services</h1>
    </div>
    
    <div class="content-transition"></div>

    <main class="content">
        <div class="filter-container">
            <div class="filter-section">
                <h2 class="filter-header">Filter Experts</h2>
                <div class="filter-grid">
                    <div class="filter-group">
                        <label for="price-range">
                            <i class="filter-icon">üí∞</i>
                            Price Range
                        </label>
                        <select id="price-range">
                            <option value="">All Prices</option>
                            <option value="0-50">$0 - $50</option>
                            <option value="51-100">$51 - $100</option>
                            <option value="101+">$101+</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="expertise">
                            <i class="filter-icon">‚ú®</i>
                            Expertise
                        </label>
                        <select id="expertise">
                            <option value="">All Expertise</option>
                            <option value="numerology">Numerology</option>
                            <option value="tarot">Tarot Reading</option>
                            <option value="astrology">Astrology</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="experience">
                            <i class="filter-icon">‚≠ê</i>
                            Experience
                        </label>
                        <select id="experience">
                            <option value="">Any Experience</option>
                            <option value="1-3">1-3 years</option>
                            <option value="4-7">4-7 years</option>
                            <option value="8+">8+ years</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="location">
                            <i class="filter-icon">üìç</i>
                            Location
                        </label>
                        <select id="location">
                            <option value="">All Locations</option>
                            <option value="us">United States</option>
                            <option value="uk">United Kingdom</option>
                            <option value="ca">Canada</option>
                            <option value="au">Australia</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter5">
                            <i class="filter-icon">üåü</i>
                            Filter 5
                        </label>
                        <select id="filter5">
                            <option value="">All Options</option>
                            <option value="option1">Option 1</option>
                            <option value="option2">Option 2</option>
                            <option value="option3">Option 3</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter6">
                            <i class="filter-icon">üéØ</i>
                            Filter 6
                        </label>
                        <select id="filter6">
                            <option value="">All Options</option>
                            <option value="option1">Option 1</option>
                            <option value="option2">Option 2</option>
                            <option value="option3">Option 3</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter7">
                            <i class="filter-icon">üîÆ</i>
                            Filter 7
                        </label>
                        <select id="filter7">
                            <option value="">All Options</option>
                            <option value="option1">Option 1</option>
                            <option value="option2">Option 2</option>
                            <option value="option3">Option 3</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filter8">
                            <i class="filter-icon">‚ú®</i>
                            Filter 8
                        </label>
                        <select id="filter8">
                            <option value="">All Options</option>
                            <option value="option1">Option 1</option>
                            <option value="option2">Option 2</option>
                            <option value="option3">Option 3</option>
                        </select>
                    </div>
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn reset-filter" onclick="resetFilters()">Reset All</button>
                    <button class="filter-btn apply-filter" onclick="applyFilters()">Apply Filters</button>
                </div>
            </div>
        </div>

        <div id="expert-section" class="experts-container">
            <div class="expert-cards">
                <div class="expert-card">
                    <div class="status-badge online">Online</div>
                    <video class="expert-video profile-video" autoplay muted loop playsinline style="max-height: 200px;">
                        <source src="./video/video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="expert-details">
                        <h3>Sarah Miller</h3>
                        <p class="expert-title">Numerologist</p>
                        <div class="rating">
                            <span class="star">‚≠ê</span>
                            <span>4.8</span>
                            <span class="reviews">(127)</span>
                        </div>
                        <div class="price-info">
                            <span class="price">$75/hr</span>
                            <div class="icons">
                                <span>üìπ</span>
                                <span>üìç</span>
                            </div>
                        </div>
                        <button class="book-btn">Book Session</button>
                        <a href="./expert_profile.html" class="about-btn">View Profile</a>
                    </div>
                </div>
                <div class="expert-card">
                    <div class="status-badge online">Online</div>
                    <video class="expert-video profile-video" autoplay muted loop playsinline style="max-height: 200px;">
                        <source src="./video/video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="expert-details">
                        <h3>Sarah Miller</h3>
                        <p class="expert-title">Numerologist</p>
                        <div class="rating">
                            <span class="star">‚≠ê</span>
                            <span>4.8</span>
                            <span class="reviews">(127)</span>
                        </div>
                        <div class="price-info">
                            <span class="price">$75/hr</span>
                            <div class="icons">
                                <span>üìπ</span>
                                <span>üìç</span>
                            </div>
                        </div>
                        <button class="book-btn">Book Session</button>
                        <a href="./expert_profile.html" class="about-btn">View Profile</a>
                    </div>
                </div>
                <div class="expert-card">
                    <div class="status-badge online">Online</div>
                    <video class="expert-video profile-video" autoplay muted loop playsinline style="max-height: 200px;">
                        <source src="./video/video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="expert-details">
                        <h3>Sarah Miller</h3>
                        <p class="expert-title">Numerologist</p>
                        <div class="rating">
                            <span class="star">‚≠ê</span>
                            <span>4.8</span>
                            <span class="reviews">(127)</span>
                        </div>
                        <div class="price-info">
                            <span class="price">$75/hr</span>
                            <div class="icons">
                                <span>üìπ</span>
                                <span>üìç</span>
                            </div>
                        </div>
                        <button class="book-btn">Book Session</button>
                        <a href="./expert_profile.html" class="about-btn">View Profile</a>
                    </div>
                </div>
                <div class="expert-card">
                    <div class="status-badge online">Online</div>
                    <video class="expert-video profile-video" autoplay muted loop playsinline style="max-height: 200px;">
                        <source src="./video/video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="expert-details">
                        <h3>Sarah Miller</h3>
                        <p class="expert-title">Numerologist</p>
                        <div class="rating">
                            <span class="star">‚≠ê</span>
                            <span>4.8</span>
                            <span class="reviews">(127)</span>
                        </div>
                        <div class="price-info">
                            <span class="price">$75/hr</span>
                            <div class="icons">
                                <span>üìπ</span>
                                <span>üìç</span>
                            </div>
                        </div>
                        <button class="book-btn">Book Session</button>
                        <a href="./expert_profile.html" class="about-btn">View Profile</a>
                    </div>
                </div>
                <div class="expert-card">
                    <div class="status-badge online">Online</div>
                    <video class="expert-video profile-video" autoplay muted loop playsinline style="max-height: 200px;">
                        <source src="./video/video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="expert-details">
                        <h3>Sarah Miller</h3>
                        <p class="expert-title">Numerologist</p>
                        <div class="rating">
                            <span class="star">‚≠ê</span>
                            <span>4.8</span>
                            <span class="reviews">(127)</span>
                        </div>
                        <div class="price-info">
                            <span class="price">$75/hr</span>
                            <div class="icons">
                                <span>üìπ</span>
                                <span>üìç</span>
                            </div>
                        </div>
                        <button class="book-btn">Book Session</button>
                        <a href="./expert_profile.html" class="about-btn">View Profile</a>
                    </div>
                </div>
                <div class="expert-card">
                    <div class="status-badge online">Online</div>
                    <video class="expert-video profile-video" autoplay muted loop playsinline style="max-height: 200px;">
                        <source src="./video/video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="expert-details">
                        <h3>Sarah Miller</h3>
                        <p class="expert-title">Numerologist</p>
                        <div class="rating">
                            <span class="star">‚≠ê</span>
                            <span>4.8</span>
                            <span class="reviews">(127)</span>
                        </div>
                        <div class="price-info">
                            <span class="price">$75/hr</span>
                            <div class="icons">
                                <span>üìπ</span>
                                <span>üìç</span>
                            </div>
                        </div>
                        <button class="book-btn">Book Session</button>
                        <a href="./expert_profile.html" class="about-btn">View Profile</a>
                    </div>
                </div>
                <!-- Add more expert cards as needed -->
            </div>
        </div>
    </main>

    <div class="modal" id="expertModal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="expertName"></h2>
            <p id="expertBio"></p>
        </div>
    </div>

    <script>
    function applyFilters() {
        const priceRange = document.getElementById('price-range').value;
        const expertise = document.getElementById('expertise').value;
        const experience = document.getElementById('experience').value;
        const location = document.getElementById('location').value;

        const expertCards = document.querySelectorAll('.expert-card');
        
        expertCards.forEach(card => {
            let matchesFilters = true;
            
            // Price filter
            if (priceRange) {
                const price = parseInt(card.querySelector('.price').textContent.replace('$', ''));
                const [min, max] = priceRange.split('-').map(num => parseInt(num) || 999999);
                if (price < min || price > max) matchesFilters = false;
            }

            // Expertise filter
            if (expertise && !card.querySelector('.expert-title').textContent.toLowerCase().includes(expertise)) {
                matchesFilters = false;
            }

            card.style.display = matchesFilters ? 'block' : 'none';
        });
    }

    function resetFilters() {
        document.getElementById('price-range').value = '';
        document.getElementById('expertise').value = '';
        document.getElementById('experience').value = '';
        document.getElementById('location').value = '';
        
        document.querySelectorAll('.expert-card').forEach(card => {
            card.style.display = 'block';
        });
    }

    const expertBios = {
        'Sarah Miller': 'With over 10 years of experience in numerology, Sarah specializes in life path numbers and destiny calculations. Her unique approach combines traditional numerology with modern interpretations.'
    };

    function showExpertBio(name) {
        const modal = document.getElementById('expertModal');
        const expertName = document.getElementById('expertName');
        const expertBio = document.getElementById('expertBio');
        
        expertName.textContent = name;
        expertBio.textContent = expertBios[name];
        modal.style.display = 'block';
    }

    document.querySelector('.close-btn').onclick = function() {
        document.getElementById('expertModal').style.display = 'none';
    }

    window.onclick = function(event) {
        const modal = document.getElementById('expertModal');
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }

    document.querySelector('.crystal-image').addEventListener('click', function() {
        this.style.transform = 'scale(0.9)';
        setTimeout(() => {
            this.style.display = 'none';
            document.querySelector('.crystal-prompt').style.display = 'none';
            document.querySelector('.crystal-input').style.display = 'block';
            document.querySelector('.crystal-btn').style.display = 'block';
            document.querySelector('.back-btn').style.display = 'block';
        }, 300);
    });

    document.querySelector('.back-btn').addEventListener('click', function() {
        document.querySelector('.crystal-image').style.display = 'block';
        document.querySelector('.crystal-prompt').style.display = 'block';
        document.querySelector('.crystal-input').style.display = 'none';
        document.querySelector('.crystal-btn').style.display = 'none';
        document.querySelector('.back-btn').style.display = 'none';
        document.querySelector('.crystal-image').style.transform = 'scale(1)';
    });
    </script>
    <script>
        // Load sidebar with absolute path
        fetch('/components/sidebar.html')
            .then(response => {
                if (!response.ok) {
                    // Try relative path if absolute fails
                    return fetch('./components/sidebar.html');
                }
                return response;
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('sidebar-container').innerHTML = data;
                // Initialize sidebar
                const sidebarScript = document.createElement('script');
                sidebarScript.src = './js/sidebar.js';
                document.body.appendChild(sidebarScript);
            })
            .catch(error => {
                console.error('Error loading sidebar:', error);
            });
    </script>
    <script src="./js/profile.js"></script>
</body>
</html>
